{% extends "base.html" %}

{% load static %}
{% url 'archive:question_detail' %}

{% block content %}
  <div class="container col-xxl-9">
    {% if questions %}
      <h1 class="display-6 fw-bold lh-1">
        Архив вопросов
      </h1>
      <form class="col-12 d-flex justify-content-between col-lg-auto mb-3 mb-lg-0 me-lg-3" action="{% url 'archive:archive' %}" method="get">
        {% csrf_token %}
        <input type="text" name="searched" class="form-control" aria-label="Search" placeholder="Поиск" value="" />
        <select class="form-select" aria-label="Default select example" name="search_critery">
          <option value="all">Всё</option>
          <option value="name">Имя</option>
          <option value="text">Текст</option>
          <option value="tags">Теги</option>
        </select>
        <button class="btn btn-outline-secondary" type="submit">Найти</button>
      </form>
      <div class="p-3">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">№</th>
              <th scope="col">Название вопроса</th>
              <th scope="col">Сложность</th>
            </tr>
          </thead>
          <tbody>
            {% for question in questions %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td><a class="nav-link" href="{{ question.get_absolute_url }}">{{ question.name }}</a></td>
                <td>{{ question.difficulty }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% include "includes/pagination.html" %}
    {% else %}
        {% include "includes/empty.html" %}
    {% endif %}
  </div>
{% endblock content %}